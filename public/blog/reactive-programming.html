<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <title>Reactive Programming</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/index.b9300aa6.css">
    <link rel="alternate" type="application/rss+xml" href="https://joreteg.com/rss">
  <link rel="apple-touch-icon-precomposed" href="/avatar.png"><link rel="shortcut icon" href="/avatar.png"></head>
  <body>
    <div id="app"><div data-reactroot=""><header><div><img src="https://static.joreteg.com/large_background.jpg" alt="Henrik speaking at a conference"></div><h2>Hi, I’m Henrik Joreteg</h2><p>Mobile web consultant, developer, and speaker</p><p><a href="/blog/all">posts</a><!-- react-text: 9 --> |<!-- /react-text --><!-- react-text: 10 --> <!-- /react-text --><a href="http://twitter.com/henrikjoreteg">twitter</a><!-- react-text: 12 --> |<!-- /react-text --><!-- react-text: 13 --> <!-- /react-text --><a href="mailto:henrik@joreteg.com">email</a><!-- react-text: 15 --> |<!-- /react-text --><!-- react-text: 16 --> <!-- /react-text --><a href="http://consulting.joreteg.com">hire</a><!-- react-text: 18 --> |<!-- /react-text --><!-- react-text: 19 --> <!-- /react-text --><a href="https://reduxbook.com">book</a><!-- react-text: 21 --> |<!-- /react-text --><!-- react-text: 22 --> <!-- /react-text --><a href="https://xchart.com">my startup: Xchart.com</a></p></header><main><article class="post-wrapper"><h1><a href="/blog/reactive-programming">Reactive Programming</a></h1><hr><aside><span class="name"><!-- react-text: 31 -->Last updated: <!-- /react-text --><!-- react-text: 32 -->27 Sep 2015<!-- /react-text --></span><span><!-- react-text: 34 --> <!-- /react-text --><!-- react-text: 35 -->| <!-- /react-text --><span class="name"><!-- react-text: 37 -->tagged: <!-- /react-text --><!-- react-text: 38 -->programming<!-- /react-text --></span></span></aside><section><p>The term “reactive programming” may sound a bit cryptic, but if you’ve ever used a spreadsheet, you’re already quite familiar with the concept.</p><p>When you’re simply <em>viewing</em> a spreadsheet, each cell isn’t necessarily showing you what was actually typed into the cell. Sure, some cells may contain simple values, but others actually contain <em>formulas</em>.</p><p>The formula may, for example, describe that the cell should contain the sum of cells <code>A2</code> and <code>B2</code>. But, when you’re viewing it you’ll see the computed value, not the formula itself.</p><p>The real power of a spreadsheet comes from the fact that when you reference another cell from one formula the referenced cell could either contain a simple value <em>or another formula</em>. Any changes made to the inputs will flow through the entire spreadsheet. Each cell gets recomputed anytime any of its inputs change until the entire sheet is reflecting the changes that have cascaded through those formulas.</p><p>What I’ve been describing with the spreadsheet is in fact <strong>reactive programming</strong>. Each cell is simply reacting to changes in the inputs.</p><p>That’s the key distinction: instead of writing code that calculates simple values, <em>we write code that describes relationships between sources of values</em>.</p><p>Once we’ve described how everything should react to the changes to its inputs, then the data flows through our functions until all the new values have been computed.</p><a name="so-why-would-we-want-to-build-things-that-way-what-does-it-gain-us" class="anchor" href="#so-why-would-we-want-to-build-things-that-way-what-does-it-gain-us"><h2><span class="header-link"></span>So, why would we want to build things that way? What does it gain us?</h2></a><p>Well, let’s think of the alternative:</p><p>If you have a table of values that you want to total up, you could certainly pull out a calculator, add them all up, and type the resulting value into the “Total” cell.</p><p>Done! Easy.</p><p>But, now what happens when the values change? Obviously, you’d have to repeat the exercise. This may be tolerable for a small table, but it would quickly become completely unmanageable if you’re dealing with, say, an amortization table showing 30 years of monthly principal and interest payments. Managing changing inputs in that type of system requires a difference paradigm.</p><a name="lets-give-a-more-specific-example" class="anchor" href="#lets-give-a-more-specific-example"><h2><span class="header-link"></span>Let’s give a more specific example.</h2></a><p>Let’s say you want to build a mobile web app that is going to let people sort a list by touching and holding an item or swipe an item right and left to perform different actions on it.</p><p>A browser gives us four different “touch” events we can listen for:</p><ol><li><code>touchstart</code></li><li><code>touchmove</code></li><li><code>touched</code></li><li><code>touchcancel</code></li></ol><p>Where’s my <code>touchhold</code> event?! There’s no such thing. So if we want to build an app that triggers “sort mode” when a user has held their finger on an item for a half second. Think about what we’d have to do:</p><ol><li>Listen for a <code>touchstart</code></li><li>start a timer</li><li>wait half a second</li></ol><p>Doesn’t sound too bad right? But wait… we also have to make sure they haven’t moved their finger too far, but we should probably still consider it a hold if they’ve moved just a few pixels. We also have to make sure we stop the timer if we get a <code>touchend</code>.</p><p>So, now we have to also store starting position we have to compare that position with any subsequent <code>touchmove</code> events we have to continually calculate a distance moved from that starting point with any changes. As long as that distance is within our tolerance and the timer reaches half second before any <code>touchend</code> event… congrats, we have a “hold”.</p><p>If we think about it, this is really spreadsheet-type problem, right?</p><p>We’ve got some input cells that are simple values, some of which will be updated over time:</p><ol><li>starting X</li><li>starting Y</li><li>start time</li><li>current X</li><li>current Y</li><li>current time</li></ol><p>We’ve got formula cells that will calculate as the time passes and inputs change:</p><ol><li>time elapsed</li><li>distance moved</li></ol><p>We’ve got an <code>is holding</code> formula cell that uses the values from <code>time elapsed</code> and <code>distance moved</code>.</p><p>Ultimately, all this touch-related logic could be broken out into its own library. Then, our program would only have to care about that <code>is holding</code> cell and update the interface accordingly. All the complexity of how those touches are tracked and measured would be contained within the library.</p><p>This is just one example of types of issues reactive programming approaches help us deal with.</p><p>Over time, you’ll find that much of the code we write is really just tracking and updating relationships between different variables.</p><p>Recognizing that and learning to use reactive patterns allows us to more easily solve complex problems and break them down into small, manageable pieces.</p><p>Then, just let the data flow.</p><hr><p><em>Note: I was asked to produce a writing sample explaining reactive programming for a technical writing contract. I'm posting it here because I thought it may be useful to someone (and yes, I "passed").</em></p><p>If you like this, or if you think I botched it, please let me know on twitter: <a href="http://twitter.com/henrikjoreteg">@HenrikJoreteg</a></p></section><footer><hr><h4>Thanks for reading, you may want to:</h4><ul><li><a href="https://reduxbook.com">read my new book Human Redux</a></li><li><a href="http://twitter.com/henrikjoreteg">follow me on twitter</a></li><li><a href="http://consulting.joreteg.com">read about my consulting services</a></li><li><a href="/blog/all">see my other posts</a></li><li><a href="https://gumroad.com/henrikjoreteg/follow">get an email when I ship new stuff</a></li></ul></footer></article></main></div></div>
    <script src="//d1l6p2sc9645hc.cloudfront.net/tracker.js"></script><script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-1196801-4"></script>
    <script>window.dataLayer = window.dataLayer || [];
function gtag() {
    dataLayer.push(arguments);
}
gtag("js", new Date());
gtag("config", "UA-1196801-4");

</script>
    <script>!function(g, s, q, r, d) {
    r = g[r] = g[r] || function() {
        (r.q = r.q || []).push(arguments);
    };
    d = s.createElement(q);
    q = s.getElementsByTagName(q)[0];
    d.src = "//d1l6p2sc9645hc.cloudfront.net/tracker.js";
    q.parentNode.insertBefore(d, q);
}(window, document, "script", "_gs");
_gs("GSN-892886-O");

</script>
  

</body></html>