<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <title>Project Fugu: A New Hope</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/index.b9300aa6.css">
    <link rel="alternate" type="application/rss+xml" href="https://joreteg.com/rss">
  <link rel="apple-touch-icon-precomposed" href="/avatar.png"><link rel="shortcut icon" href="/avatar.png"></head>
  <body>
    <div id="app"><div data-reactroot=""><header><div><img src="https://static.joreteg.com/large_background.jpg" alt="Henrik speaking at a conference"></div><h2>Hi, I’m Henrik Joreteg</h2><p>Mobile web consultant, developer, and speaker</p><p><a href="/blog/all">posts</a><!-- react-text: 9 --> |<!-- /react-text --><!-- react-text: 10 --> <!-- /react-text --><a href="http://twitter.com/henrikjoreteg">twitter</a><!-- react-text: 12 --> |<!-- /react-text --><!-- react-text: 13 --> <!-- /react-text --><a href="mailto:henrik@joreteg.com">email</a><!-- react-text: 15 --> |<!-- /react-text --><!-- react-text: 16 --> <!-- /react-text --><a href="http://consulting.joreteg.com">hire</a><!-- react-text: 18 --> |<!-- /react-text --><!-- react-text: 19 --> <!-- /react-text --><a href="https://reduxbook.com">book</a><!-- react-text: 21 --> |<!-- /react-text --><!-- react-text: 22 --> <!-- /react-text --><a href="https://xchart.com">my startup: Xchart.com</a></p></header><main><article class="post-wrapper"><h1><a href="/blog/project-fugu-a-new-hope">Project Fugu: A New Hope</a></h1><hr><aside><span class="name"><!-- react-text: 31 -->Last updated: <!-- /react-text --><!-- react-text: 32 -->10 Jun 2020<!-- /react-text --></span><span><!-- react-text: 34 --> <!-- /react-text --><!-- react-text: 35 -->| <!-- /react-text --><span class="name"><!-- react-text: 37 -->tagged: <!-- /react-text --><!-- react-text: 38 -->pwa, mobile, web<!-- /react-text --></span></span></aside><section><p>Capabilities. That's what The Web needs.</p><p>Things like:</p><ol><li>Face or other biometric logins for websites</li><li>USB connectivity</li><li>TCP and UDP sockets clients / servers</li><li>Serial connections</li><li>Geofencing and background location tracking</li><li>Screen lock / screen brightness</li><li>Barcode scanning / generation</li><li>Contacts API.</li><li>etc., etc., etc.</li></ol><p>If a native app can do it, the web should be able to do also!</p><a name="progress" class="anchor" href="#progress"><h2><span class="header-link"></span>Progress!</h2></a><p>As it turns out the folks on the Chrome team feel the same.</p><p>In fact, there's an entire public spreadsheet with a really ambitious list of capabilities that have been identified as gaps between what the web can do and what native apps can do.</p><p>The web as an application platform, has an incredible future.</p><p>See it for yourself! <a href="https://goo.gle/fugu-api-tracker">goo.gle/fugu-api-tracker</a></p><p><img src="/images/fugu-tracker.png" alt="project fugu tracker"></p><blockquote><blockquote><blockquote><p>This gives me a new hope for the future of The Web!</p></blockquote></blockquote></blockquote><a name="meanwhile-over-on-ie-ahem-i-mean-safari" class="anchor" href="#meanwhile-over-on-ie-ahem-i-mean-safari"><h2><span class="header-link"></span>Meanwhile over on IE, ahem... I mean Safari</h2></a><p>The following appears to be the general attitude I see from the Webkit folks even for adding something as benign as screen lock. Ricky is a WebKit engineer and @othermaciej who responds with a similar attitude is currently <strong>head of WebKit Engineering</strong>:</p><p></p><blockquote class="twitter-tweet"><p lang="en" dir="ltr">Looking forward to the battery life benefits this API will bring.</p>— othermaciej (@othermaciej) <a href="https://twitter.com/othermaciej/status/1171963641098162176?ref_src=twsrc%5Etfw">September 12, 2019</a></blockquote><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p></p><p>That makes me sad.</p><a name="why-does-any-of-this-matter" class="anchor" href="#why-does-any-of-this-matter"><h2><span class="header-link"></span>Why does any of this matter?</h2></a><p>In short, because software distribution is hard.</p><p>Every other means of distribution involves a variety of B.S. that is unique to each platform you want to distribute to. This involves, but it not limited to:</p><ol><li>Building/packaging</li><li>Code signing</li><li>App store approval seeking</li><li>App store revenue sharing.</li><li>Risk of being demoted in the lottery of app store picks and search engines.</li><li>Dealing with obsolescence due to platforms moving forward without backward compatibility.</li><li>Every time you want to do a material update, you have to repeat this same silly song and dance again... for each platform.</li></ol><p>And <em>most</em> of these little steps and requirements are different for <em>every</em> platform you want to distribute to.</p><p>Take Windows, for example. If you want to provide a link to download an electron app installer from your site and you don't want to have to coach your users how to click through the Windows warnings when they try to run the installer you have to do code signing. Fine. Ok. No big deal, right?</p><p>Well, I'm doing this right now so... you have to:</p><ol><li>Buy an Extended Validation cert for \$349 (a year)</li><li>Complete some really extensive information about your business.</li><li>Submit/upload a bunch of documentation, <em>including</em> a formal attestation letter from your CPA (who obviously won't do this for free)</li><li>Then, once everything is submitted, they will <em>mail you a USB drive</em> with the certificate on it.</li><li><em>Then</em> you get to sign your software.</li></ol><p>Doable? Sure. Fun? Definitely not. Cost effective and sustainable? Not really.</p><a name="so-why-not-just-stick-to-the-web" class="anchor" href="#so-why-not-just-stick-to-the-web"><h2><span class="header-link"></span>So, why not just stick to the web!?</h2></a><p>That's what I'm trying to do! But sometimes, you need to do something that the web does not yet allow. More frequently, this is becoming "you need to do something that <em>Apple</em> doesn't think the web should be able to do" (or won't prioritize the work required to implement).</p><p>This happens both in my consulting work (currently with Walmart, previously at Starbucks), and in my <a href="https://anesthesiacharting.com/">AnesthesiaCharting.com</a> business. We keep running into these limitations of what the browser can do.</p><p>The common answer is, well... so just build native apps for that, or use Electron.</p><a name="ok-let39s-look-a-little-closer-maybe-it39s-not-actually-so-bad" class="anchor" href="#ok-let39s-look-a-little-closer-maybe-it39s-not-actually-so-bad"><h2><span class="header-link"></span>Ok, let's look a little closer, maybe it's not actually so bad?</h2></a><p>If you really "go all in" on native, you have to build at least <em>three</em> different code bases instead of one.</p><p>If you're like my big clients, maybe that's worthwhile... <em>maybe</em>. But that doesn't mean it isn't a <em>a lot</em> more work.</p><p>So, now you're probably thinking: "<strong>Just use React Native, or Flutter, or Electron or some other meta platform!</strong>"</p><p>But that still doesn't solve it, for several reasons. For example let's look at my business AnesthesiaCharting.com. We'd ideally want to support the following platforms:</p><ol><li>Windows Desktop</li><li>Mac Desktop</li><li>iPad/iOS</li><li>Android Phones/Tablets</li><li>Chromebooks</li></ol><p>So, I guess React Native can now mostly support all these. Flutter has a "alpha" support for Mac OS but not Windows.</p><p>And there's a giant gap in all these ideas: <em>none</em> of the problems outlined previously about distributing on multiple platforms goes away.</p><p>If you <em>actually want to distribute and update software to all these platforms</em> you still have to get approval everywhere, pay your developer fees, so you can sign your code, and set up a big complicated release process for pushing updates.</p><p>I feel like most people that throw this answer out have not actually done this themselves. It seems they're frequently spouting off things that they've heard at conferences from what I can only call "the marketing department" for these various technologies.</p><a name="what-do-all-those-platforms-have-in-common" class="anchor" href="#what-do-all-those-platforms-have-in-common"><h2><span class="header-link"></span>What do all those platforms have in common?</h2></a><p>All but <em>one</em> of those 5 platforms I listed above <em>can run Chrome</em>! That means that I have a very capable web runtime available on all but <em>one</em> of the platforms that my customers use.</p><p>Oh, in case you're wondering--iOS cannot run Chrome. Don't be fooled by the fact that you can install an app called "Chrome" from the Apple app store. It is <em>not</em> actually Chrome, in fact, it's not even Safari. It's <em>less than Safari</em>. It's a WebKit web-view which, cannot even have things that Safari supports like ServiceWorker, let alone any of the other, more advanced APIs that expose the capabilities of the device.</p><a name="so-what-specific-capabilities-do-i-need-that-web-doesn39t-yet-provide" class="anchor" href="#so-what-specific-capabilities-do-i-need-that-web-doesn39t-yet-provide"><h2><span class="header-link"></span>So what specific capabilities do I need that Web doesn't yet provide?</h2></a><p>I've been finding myself working with serial ports recently. Yeah, that's right, good 'ol RS-232. A standard for device to device communication first published in <strong>1960</strong>!</p><p>It's dinosaur tech, but unlike the big lizards, this tech has stuck around. As it turns out, one of the most popular patient vitals monitors (you know the ones that show your heart rate, oxygen saturation, etc) is made by a company called Criticare. These things you can only talk to via, you guessed it: serial.</p><p>But it's not just for old tech, lots of robotics stuff and other simple controllers use serial connections.</p><p>As it turns out Google is working on a Web Serial API right now! It's in the Fugu tracker! In fact, it's already shipped as an <a href="https://developers.chrome.com/origintrials">Origin Trial</a> that I'm in... and I'm <strong>stoked</strong>!</p><p>All I have to do is:</p><pre><code class="undefinedjs">const port = await navigator.serial.requestPort();
await port.open({ baudrate: 38400 });
</code></pre><p>Now I can read and write to the connected device!</p><a name="why-is-that-a-big-deal" class="anchor" href="#why-is-that-a-big-deal"><h2><span class="header-link"></span>Why is that a big deal?</h2></a><p>With those two lines above. I can distribute software via The Web that talks to these patient vitals monitors.</p><p>And it works with <em>no additional work</em> on 4 of the 5 platforms I'm trying to target!</p><p>All I have to do is tell customers to use a Chromium-based browser.</p><a name="pedantry" class="anchor" href="#pedantry"><h2><span class="header-link"></span>Pedantry</h2></a><p>You can be as pedantic as you want about "browser engine diversity" you can say that "Google has too much control of the web", you can argue about all manner of pedantic things.</p><p>But at the end of the day, as a business trying to ship software to my customers, guess what I'm going to do?</p><p>I'm going to tell my customers to use a Chromium-based browser if they need to talk to a Criticare monitor.</p><p>I'll tell them to skip the fancy iPad Pro and buy a \$300 chromebook to use as a <em>clinical tool in their operatories</em>.</p><p>Forget Apple. I'm going to tell all these doctors that Apple is selling them short and to buy a cheap chromebook or other device that can run a Chromium based browser.</p><p>Oh and hey, before you get too pedantic on me. This is a reminder that Microsoft is taking Chromium and using it to <em>compete with Chrome on user-facing features</em>! So is Brave and others.</p><blockquote><blockquote><blockquote><p>This is The Web we want.</p></blockquote></blockquote></blockquote><p>A Web with all the capabilities we need, while keeping software distribution SIMPLE. Let the vendors compete on user-facing features, like password managers, privacy controls, etc. But, let's have the most capable open source browser engine available so we can get the capabilities we need to <em>ship software</em>.</p><p>This is why Project Fugu give me a new hope.</p><p>Thanks for reading! See ya on Twitter, I'm <a href="https://twitter.com/HenrikJoreteg">@HenrikJoreteg</a> on there if you want to <em>kindly</em> tell me all the ways I'm wrong :)</p></section><footer><hr><h4>Thanks for reading, you may want to:</h4><ul><li><a href="https://reduxbook.com">read my new book Human Redux</a></li><li><a href="http://twitter.com/henrikjoreteg">follow me on twitter</a></li><li><a href="http://consulting.joreteg.com">read about my consulting services</a></li><li><a href="/blog/all">see my other posts</a></li><li><a href="https://gumroad.com/henrikjoreteg/follow">get an email when I ship new stuff</a></li></ul></footer></article></main></div></div>
    <script src="//d1l6p2sc9645hc.cloudfront.net/tracker.js"></script><script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-1196801-4"></script>
    <script>window.dataLayer = window.dataLayer || [];
function gtag() {
    dataLayer.push(arguments);
}
gtag("js", new Date());
gtag("config", "UA-1196801-4");

</script>
    <script>!function(g, s, q, r, d) {
    r = g[r] = g[r] || function() {
        (r.q = r.q || []).push(arguments);
    };
    d = s.createElement(q);
    q = s.getElementsByTagName(q)[0];
    d.src = "//d1l6p2sc9645hc.cloudfront.net/tracker.js";
    q.parentNode.insertBefore(d, q);
}(window, document, "script", "_gs");
_gs("GSN-892886-O");

</script>
  

</body></html>