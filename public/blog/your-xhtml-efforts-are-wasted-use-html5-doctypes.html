<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <title>Your XHTML efforts are (probably) wasted</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/index.b9300aa6.css">
    <link rel="alternate" type="application/rss+xml" href="https://joreteg.com/rss">
  <link rel="apple-touch-icon-precomposed" href="/avatar.png"><link rel="shortcut icon" href="/avatar.png"></head>
  <body>
    <div id="app"><div data-reactroot=""><header><div><img src="https://static.joreteg.com/large_background.jpg" alt="Henrik speaking at a conference"></div><h2>Hi, I’m Henrik Joreteg</h2><p>Mobile web consultant, developer, and speaker</p><p><a href="/blog/all">posts</a><!-- react-text: 9 --> |<!-- /react-text --><!-- react-text: 10 --> <!-- /react-text --><a href="http://twitter.com/henrikjoreteg">twitter</a><!-- react-text: 12 --> |<!-- /react-text --><!-- react-text: 13 --> <!-- /react-text --><a href="mailto:henrik@joreteg.com">email</a><!-- react-text: 15 --> |<!-- /react-text --><!-- react-text: 16 --> <!-- /react-text --><a href="http://consulting.joreteg.com">hire</a><!-- react-text: 18 --> |<!-- /react-text --><!-- react-text: 19 --> <!-- /react-text --><a href="https://reduxbook.com">book</a><!-- react-text: 21 --> |<!-- /react-text --><!-- react-text: 22 --> <!-- /react-text --><a href="https://xchart.com">my startup: Xchart.com</a></p></header><main><article class="post-wrapper"><h1><a href="/blog/your-xhtml-efforts-are-wasted-use-html5-doctypes">Your XHTML efforts are (probably) wasted</a></h1><hr><aside><span class="name"><!-- react-text: 31 -->Last updated: <!-- /react-text --><!-- react-text: 32 -->21 Jul 2009<!-- /react-text --></span></aside><section><p>So, last night I read <a href="http://www.zurb.com/article/282/doctypes-for-designers">this blog post about starting to use the HTML 5 doctype</a>. That got me curious, because according to them it’s perfectly fine to use the HTML 5 doctype which is gloriously simplified compared to other doctypes:</p><p>HTML 5 looks like this:</p><blockquote><p>&lt;!DOCTYPE html&gt;</p></blockquote><p>(X)HTML 1.0 Strict looks like this:</p><blockquote><p>&lt;!DOCTYPE html PUBLIC “-//W3C//DTD XHTML 1.0 Strict//EN” “http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd”&gt;</p></blockquote><p>Clearly, the HTML 5 version is actually memorizable (not a word… but should be), where any other doctype I’ve ever seen nearly brought tears to my eyes. So I’ve done a fair amount of digging and reading and learned something very interesting:</p><p>Tons and tons of web-developers, write XHTML compliant sites, but they still serve it using text/html mime-types which means, the browser treats it like plain ‘ol html anyways!</p><p>Here’s the crux of the matter as described by <a href="http://webkit.org/blog/68/understanding-html-xml-and-xhtml/">Maciej Stachowiak on the web-kit blog</a>:</p><blockquote><p>So what really determines if a document is HTML or XHTML? The one and only thing that controls whether a document is HTML or XHTML is the MIME type. If the document is served with a text/html MIME type, it is treated as HTML. If it is served as application/xhtml+xml or text/xml, it gets treated as XHTML. In particular, none of the following things will cause your document to be treated as XHTML:</p><ul><li>Using an XHTML doctype declaration</li><li>Putting an XML declaration at the top</li><li>Using XHTML-specific syntax like self-closing tags</li><li>Validating it as XHTML</li></ul><p>In fact, the vast majority of supposedly XHTML documents on the internet are served as text/html. Which means they are not XHTML at all, but actually invalid HTML that’s getting by on the error handling of HTML parsers. All those “Valid XHTML 1.0!” links on the web are really saying “Invalid HTML 4.01!”.</p></blockquote><p>So who cares?!? What should we do? Well, arguably, as long as it renders properly it doesn’t really matter does it?!? But if you care, here’s what I suggest:</p><p>Either start serving your (X)HTML with the correct mime/type: application/xhtml+xml and deal with the fact that IE6 can’t handle that. (not that I care too much about IE6)</p><p>…OR…</p><p>Change your doctype to match what you’re actually serving up, which means switching your doctype back the HTML 4.01 Strict:</p><blockquote><p>&lt;!DOCTYPE HTML PUBLIC “-//W3C//DTD HTML 4.01//EN” “http://www.w3.org/TR/html4/strict.dtd”&gt;</p></blockquote><p>…OR…</p><p>Just do what <a href="https://developer.mozilla.org/en/Mozilla_Web_Developer_FAQ#xhtmldiff">Mozilla’s Web-Developer FAQ’s</a> recommend and myself, <a href="http://google.com">Google</a>, <a href="http://www.apple.com/safari/">Apple</a> (in some cases) and <a href="http://aneventapart.com">others</a> have started doing: <strong>just use the HTML 5 doctype!</strong> It puts everything into standards mode all the way back to IE6 and you don’t really have to worry about copying funky doctypes ever again.</p><p>Then, you can tell your XHTML junkie friends that they’re on to something about accessibility and clean code, but unless they’re serving in xml they’re not actually gaining much of anything from their precious (X)HTML strict doctypes.</p><p>I’m not claiming to be the end-all expert. But I do my best to take well qualified advice. I consider the sources listed below and other example sites mentioned above to be <em>very</em> qualified. I hope this posts helps somebody who was as confused as I was.</p><p>Here’s all the relevant posts and documents that I referenced (all are worth reading):</p><ul><li><a href="http://webkit.org/blog/68/understanding-html-xml-and-xhtml/">The Webkit blog - Understanding HTML, XML and XHTML</a></li><li><a href="http://www.b-list.org/weblog/2008/jun/21/xhtml/">James Bennet’s blog - Why HTML</a></li><li><a href="http://www.b-list.org/weblog/2008/jun/21/xhtml/">James Bennet’s follow up post addressing criticisms to first post</a></li><li><a href="https://developer.mozilla.org/en/Mozilla_Web_Developer_FAQ#xhtmldiff">Mozilla’s web dev FAQ</a></li><li><a href="http://keystonewebsites.com/articles/mime_type.php">Ian Hickson W3C contributor discusses mime/types and xhtml</a></li><li><a href="http://www.zurb.com/article/282/doctypes-for-designers">Zurb Blog - Doctypes for designers</a></li></ul><p>Other potentially interesting items:</p><ul><li><a href="http://html5.validator.nu/">Experimental HTML5 validator</a></li></ul></section><footer><hr><h4>Thanks for reading, you may want to:</h4><ul><li><a href="https://reduxbook.com">read my new book Human Redux</a></li><li><a href="http://twitter.com/henrikjoreteg">follow me on twitter</a></li><li><a href="http://consulting.joreteg.com">read about my consulting services</a></li><li><a href="/blog/all">see my other posts</a></li><li><a href="https://gumroad.com/henrikjoreteg/follow">get an email when I ship new stuff</a></li></ul></footer></article></main></div></div>
    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script src="//d1l6p2sc9645hc.cloudfront.net/tracker.js"></script>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-1196801-4"></script>
    <script>window.dataLayer = window.dataLayer || [];
function gtag() {
    dataLayer.push(arguments);
}
gtag("js", new Date());
gtag("config", "UA-1196801-4");

</script>
    <script>!function(g, s, q, r, d) {
    r = g[r] = g[r] || function() {
        (r.q = r.q || []).push(arguments);
    };
    d = s.createElement(q);
    q = s.getElementsByTagName(q)[0];
    d.src = "//d1l6p2sc9645hc.cloudfront.net/tracker.js";
    q.parentNode.insertBefore(d, q);
}(window, document, "script", "_gs");
_gs("GSN-892886-O");

</script>
  

</body></html>